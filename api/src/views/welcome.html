<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tomas API</title>
  <link rel="stylesheet" href="/css/welcome.css">
</head>

<body>
  <header>
    <h1>Tomas API</h1>
    <div class="version">v{{apiVersion}}</div>
    <p class="tagline">Personal and Home Finance Management</p>
  </header>

  <div class="card">
    <h2>Overview</h2>
    <p>Welcome to the Tomas API! This RESTful API provides comprehensive personal and home finance management capabilities including:</p>
    <ul>
      <li>Multi-book financial management with team collaboration</li>
      <li>Account and transaction tracking with hierarchical categories</li>
      <li>Income and expense categorization with two-level nesting</li>
      <li>Role-based team access (admin, collaborator, viewer)</li>
      <li>Soft delete functionality for data integrity</li>
      <li>Balance calculations and financial reporting</li>
    </ul>
  </div>

  <div class="card">
    <h2>Authentication</h2>
    <p>All API endpoints (except <code>/health</code> and this page) require authentication using JWT tokens.</p>
    <p>To authenticate:</p>
    <ol>
      <li>Get a token by sending your credentials to <code>POST /api/users/login</code></li>
      <li>Include the token in the <code>Authorization</code> header as <code>Bearer &lt;token&gt;</code></li>
    </ol>
    <p><strong>Note:</strong> All API endpoints use <code>snake_case</code> for parameters (e.g., <code>account_id</code>, <code>start_date</code>, <code>end_date</code>).</p>
  </div>

  <div class="card">
    <h2>Key Endpoints</h2>
    <p>The API follows RESTful conventions with hierarchical endpoints. Here are some key endpoints:</p>
    <div class="endpoints">
      <div class="endpoint-card">
        <div class="endpoint-path">
          <span class="method post">POST</span>/api/users/login
        </div>
        <p>Authenticate and get an access token</p>
      </div>

      <div class="endpoint-card">
        <div class="endpoint-path">
          <span class="method get">GET</span>/api/books
        </div>
        <p>List all accessible books</p>
      </div>

      <div class="endpoint-card">
        <div class="endpoint-path">
          <span class="method get">GET</span>/api/books/{id}/accounts
        </div>
        <p>List accounts for a specific book</p>
      </div>

      <div class="endpoint-card">
        <div class="endpoint-path">
          <span class="method get">GET</span>/api/books/{id}/transactions
        </div>
        <p>Get transactions for a book with filtering options</p>
      </div>

      <div class="endpoint-card">
        <div class="endpoint-path">
          <span class="method get">GET</span>/api/books/{id}/categories
        </div>
        <p>List categories for a specific book</p>
      </div>

      <div class="endpoint-card">
        <div class="endpoint-path">
          <span class="method get">GET</span>/api/health
        </div>
        <p>Check API service health and statistics</p>
      </div>
    </div>
  </div>

  <div class="card">
    <h2>Documentation</h2>
    <p>For detailed API documentation, please refer to:</p>
    <ul>
      <li><strong>Interactive API Documentation:</strong> <a href="/api-docs" target="_blank">/api-docs</a> 
        <br><span style="color: #e74c3c; font-size: 0.9em;">⚠️ Note: Swagger UI is only available in development/staging environments for security reasons</span>
      </li>
      <li><strong>API Reference:</strong> See the <code>API_REFERENCE.md</code> file in the project repository</li>
      <li><strong>GitHub Repository:</strong> <a href="https://github.com/levhita/tomas" target="_blank">github.com/levhita/tomas</a></li>
      <li><strong>OpenAPI Specification:</strong> <code>/api/docs/swagger.json</code> (generated documentation)</li>
    </ul>
    <p><strong>API Version 2.0.0 Features:</strong></p>
    <ul>
      <li>✅ RESTful hierarchical endpoints (e.g., <code>/books/{id}/transactions</code>)</li>
      <li>✅ Standardized <code>snake_case</code> parameters</li>
      <li>✅ Comprehensive OpenAPI/Swagger documentation</li>
      <li>✅ Interactive API testing via Swagger UI</li>
      <li>✅ Role-based permissions and team collaboration</li>
    </ul>
  </div>

  <footer>
    <p>Tomas API • {{currentYear}} • Running in {{environment}} mode</p>
  </footer>
</body>

</html>